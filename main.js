
const idHorrorTMD = '27';
const keyTMD = 'ab0d5cd05c182e2789b5577971a79aee';
const keyOMBD = '69119fb3';
const arrVampires = ['tt0110148','tt0103874','tt0116367','tt0013442','tt0338526','tt0021814','tt1714915','tt0120611','tt0320691', 'tt0085701','tt1438176','tt0187738','tt0189998','tt0093437','tt1099212','tt1228987','tt0433362', 'tt0104511'];
const arrZombies =['tt0480249','tt0120804','tt0289043','tt1156398','tt0365748','tt0363547','tt0089907','tt0063350','tt4877736','tt0083907','tt0100258','tt0463854','tt1038988','tt0089885','tt0816711','tt0088993','tt1588173','tt0318627','tt0023694','tt1077258']; 
const arrPoe = ['tt0018770','tt0063715','tt0085816','tt1772264','tt0056552','tt0407236','tt0058333','tt0055304','tt0053925','tt0026912','tt0010821','tt0091871','tt0057128','tt0057993','tt3454574','tt0042358','tt0057449','tt0003643','tt0082357','tt0100827','tt0024894','tt0046408','tt0208836'];
const arrKing = ['tt0111161','tt0120689','tt0092005','tt2879552','tt0109642','tt0081505','tt0100157','tt0450385','tt0252501','tt0884328','tt0112040','tt1396484','tt4354880','tt0074285','tt0118636','tt0085407','tt0085333','tt0088889','tt6214928','tt0087050','tt0363988','tt0093894','tt6548228','tt0098084','tt0099864','tt1553656','tt0117894','tt3748172','tt1939659','tt0837563','tt1648190','tt0775440'];
const arrClassicHorrorMovie = ['tt0055830','tt0074486','tt0057129','tt0084924','tt0075005','tt0010323','tt0013442','tt0021814','tt0021884','tt0034398','tt0046911','tt0077745','tt0054215','tt0055018','tt0053459','tt0063522','tt0063350','tt0069995','tt0070047','tt0071222','tt0072271','tt0074285','tt0076786','tt0076162','tt0077651','tt0078748'];
const arrLove = ['tt0089885','tt0091083','tt0264508','tt0081318','tt0099180','tt0082966','tt0448190','tt0478988','tt0112643','tt0057128','tt0107664','tt0065327','tt0065669','tt0105242','tt1498878','tt0059465','tt0119279','tt0092809','tt0096344','tt0478126','tt0062833','tt7560964','tt0062266'];
const arrGhost = ['tt0103919','tt0256009','tt0298130','tt2023587','tt0230600','tt0116365','tt0087332','tt0094721','tt0055018','tt0078767','tt1457767','tt0057129','tt0167404','tt0081505','tt0084516'];
const arrWerewolf = ['tt0082010','tt0034398','tt0210070','tt0280609','tt0862856','tt0054777','tt0087075','tt0082533','tt0035899','tt0202114','tt0027194','tt0090021','tt0083336','tt0111742','tt0090142','tt2420756','tt2229511','tt0780653','tt0115610','tt2818178','tt0071200','tt2781516','tt0050530','tt0067972','tt0118137'];
const arrShelley = ['tt3906082','tt1795369','tt0072431','tt0026138','tt0021884','tt0165050','tt0040068','tt0165798','tt0070074','tt0050280','tt0031951','tt5821856','tt6229862','tt0368730','tt0065738','tt0298028','tt0001223','tt0109836','tt0071519','tt0270954',];
const arrCraven =['tt0117571','tt0087800','tt0120082','tt1262416','tt0134084','tt0421239','tt0401711','tt0111686','tt0068833','tt0257516','tt0105121','tt0077681','tt0096071','tt0114825','tt0872230','tt0098320','tt0084745','tt0088634', 'tt0090917','tt0089274','tt0082245','tt0100253'];
const arrCarpenter = ['tt0084787','tt0077651','tt0448190','tt0074156','tt0090728','tt0096256','tt0082340','tt0113409','tt0079103','tt0088172','tt0080749','tt0085333','tt0093777','tt0078295','tt0069945','tt0120877','tt0106449','tt0104850','tt0116225','tt1369706','tt6393786','tt0228333'];
const arrRomero =['tt0063350','tt0077402','tt0088993','tt0077914','tt0082622','tt0418819','tt0095652','tt0069895','tt0100827','tt0106664','tt0848557','tt0069239','tt0212830','tt1134854'];
const arrWhale = ['tt0026138','tt0021884','tt0024184','tt0020960','tt0028249','tt0022550','tt0023293','tt0031619','tt0023860','tt0021013','tt0026921','tt0029491','tt0025600','tt0028953','tt0024222','tt0023055','tt0030981','tt0030615','tt0032558','tt0034276'];
const arrRaimi = ['tt4189022','tt0092991','tt0106308','tt0083907','tt0120324','tt0145487','tt0316654','tt0219699','tt0078503','tt1127180','tt0114214','tt0099365','tt0076216','tt1623205','tt0413300','tt0088967','tt6244528','tt0077344',];
const arrCronenberg = ['tt0765443','tt0092357','tt0091064','tt0399146','tt0086541','tt0094964','tt0085407','tt0078908','tt0120907','tt0081455','tt0278731','tt0107468','tt0073705','tt0115964','tt1571222','tt0076590','tt1480656','tt0065591',];
const arrArgento = ['tt0073582','tt0076786','tt0084777','tt0065143','tt0093677','tt0080923','tt0065761','tt0066735','tt1414347','tt0220827','tt0117658','tt0104053','tt0430676'];
const arrToro = ['tt0457430','tt0287856','tt2654620','tt0256009','tt5580390','tt0411477','tt0167190','tt1663662','tt0187738','tt0104029','tt0369452','tt2554274','tt0119675','tt0352307',]
const arrHooper = ['tt0128419','tt0112104','tt0229916','tt0096708','tt0289830','tt0088513','tt0247120','tt0072271','tt0084516','tt0118426','tt3980622','tt0094466','tt0089489','tt0082427','tt0092076','tt0074455','tt0091276','tt0404011','tt3087848','tt0367153','tt0198309','tt0099822','tt1770672','tt0098375','tt0113762'];
const arrKubrick = ['tt0081505','tt0057012','tt0050825','tt0093058','tt0066921','tt0062622','tt0072684','tt0049406','tt0054331','tt0056193','tt0120663','tt0048254','tt0042384','tt0045758'];
const arrWan = ['tt0387564','tt0495241','tt1457767','tt3065204','tt2820852','tt1477834','tt1591095','tt2226417','tt0804461','tt0445061','tt0455760','tt1405369','tt1399045'];
const arrHitch = ['tt0054215','tt0047396','tt0133302','tt3455796','tt0052357','tt0053125','tt0046912','tt0032976','tt0044079','tt0040746','tt0038787','tt0036342','tt0030341','tt0026029','tt0037017','tt0818899','tt0056869','tt0038109','tt0032484','tt0049470','tt0048728','tt0068611','tt0034248','tt0045897','tt0017075','tt0058329'];
const arrReleases = ['tt4504044','tt7329656','tt5886046','tt3612126','tt7752126','tt8155288','tt8663516','tt7349950'];
const printInfo = document.getElementById('printInfo');
const printDirector = document.getElementById('printDirector');
const printBook = document.getElementById('printBook');
const printSearch = document.getElementById('printSearch');
const printRelease = document.getElementById('printRelease');
const printModal = document.getElementById('modal');
const arrOscars = ['tt0070047','tt0063522','tt0078748','tt0073195','tt0100157','tt0022835', 'tt0082010' ,'tt0103874','tt0075005', 'tt0102926']
const arrSeries = ['tt1844624','tt1520211','tt0056777','tt0106179','tt4574334','tt0096708','tt8682948','tt2583620','tt7569592','tt7949204','tt0052520','tt2632424', 'tt1830617','tt2243973','tt4145384','tt2560140','tt1405406','tt6763664','tt2628232','tt1414347'];

let card = '';
let cardRelease ='';
let modal ='';
let imgHorror = '';
let data;
window.load;



		 function getanswer(q){
			 fetch("https://www.omdbapi.com/?s="+q+"&apikey=69119fb3").then((response)=>{
				 return response.json();
			 }).then((myJson)=>{
				 let rawstring = JSON.stringify(myJson);
				 data =JSON.parse(rawstring);
				 
				 let title = data.Search[0].Title;
				 let year = data.Search[0].Year;
				 let imdburl = "https://www.imdb.com/title/"+data.Search[0].imdbID+"/";
      			let posterurl = data.Search[0].Poster;
      			printSearch.innerHTML=`<a data-target="#modal${data.Search[0].imdbID}" data-toggle="modal"><div class="card" style="width: 18rem">

						      <img src="${posterurl}" class="card-img" alt="${title}"><div class="overlay"><h2>${title}</h2></div>
						    </div></a>`;
				fetch(`https://www.omdbapi.com/?i=${data.Search[0].imdbID}&apikey=${keyOMBD}`).then((response)=>{
					return response.json();
				}).then((myJson)=>{    
				printModal.innerHTML = `<div aria-hidden="true" aria-labelledby="exampleModalCenterTitle" class="modal fade" id="modal${myJson.imdbID}" role="dialog" tabindex="-1">
                     <div class="modal-dialog modal-dialog-centered" role="document">
                         <div class="modal-content">
                             <div class="modal-header">
                                 <h4 class="modal-title" id="exampleModalLongTitle">
                                 ${myJson.Title} ${myJson.Year}
                                 </h4>
                               <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                                     <span aria-hidden="true">
                                         ×
                                     </span>
                                 </button>
                          	 </div>
                             <div class="modal-body">
                                 <div class="row">
                                 <div class="col-md-8">
                                    <img src ="${myJson.Poster}">
                                    </div>
                                    <div class="col-md-4">
                                    <p><small>Director:</small> ${myJson.Director}</p>
           							            <p><small>Genre:</small> ${myJson.Genre}</p>
                                    <p><small>Released:</small> ${myJson.Released}</p>
                                    <p><small>Actors:</small> ${myJson.Actors}</p>
                                    <p><small>Runtime:</small> ${myJson.Runtime}</p>
                                    </div>
                                 </div>
                                 <p><small>Synopsis:</small></p>
                                 <p>${myJson.Plot}</p>
                                 <p><small>IMBD resource:</small></p>
                                 <a href="https://www.imdb.com/title/${myJson.imdbID}/" target="_blank">https://www.imdb.com/title/${data.Search[0].imdbID}/</a>
                             </div>
                         </div>
                     </div>
                 </div>`;})
           
						   })
      	}
        // Movies

document.getElementById('vampires').addEventListener('click', (e)=>{
   e.preventDefault();
   clean();
	getAnyMovie(arrVampires);
})
document.getElementById('classic').addEventListener('click', (e)=>{
   e.preventDefault();
   clean();
   getAnyMovie(arrClassicHorrorMovie);
})
document.getElementById('zombie').addEventListener('click', (e)=>{
   e.preventDefault();
   clean();
   getAnyMovie(arrZombies);
})

document.getElementById('ghost').addEventListener('click', (e)=>{
   e.preventDefault();
   clean();
   getAnyMovie(arrGhost);
})
document.getElementById('wer').addEventListener('click', (e)=>{
   e.preventDefault();
   clean();
   getAnyMovie(arrWerewolf);
})

//Directores:
document.getElementById('carpenter').addEventListener('click', (e)=>{
 e.preventDefault();
 clean();
 getDirectorMovie(arrCarpenter);
})
document.getElementById('craven').addEventListener('click', (e)=>{
 e.preventDefault();
 clean();
 getDirectorMovie(arrCraven);
})
document.getElementById('romero').addEventListener('click', (e)=>{
 e.preventDefault();
 clean();
 getDirectorMovie(arrRomero);
})
document.getElementById('whale').addEventListener('click', (e)=>{
 e.preventDefault();
 clean();
 getDirectorMovie(arrWhale);
})
document.getElementById('raimi').addEventListener('click', (e)=>{
 e.preventDefault();
 clean();
 getDirectorMovie(arrRaimi);
})
document.getElementById('cronen').addEventListener('click', (e)=>{
 e.preventDefault();
 clean();
 getDirectorMovie(arrCronenberg);
})
document.getElementById('argento').addEventListener('click', (e)=>{
 e.preventDefault();
 clean();
 getDirectorMovie(arrArgento);
})
document.getElementById('toro').addEventListener('click', (e)=>{
 e.preventDefault();
 clean();
 getDirectorMovie(arrToro);
})
document.getElementById('hooper').addEventListener('click', (e)=>{
 e.preventDefault();
clean();
 getDirectorMovie(arrHooper);
})
document.getElementById('kubrick').addEventListener('click', (e)=>{
 e.preventDefault();
 clean();
 getDirectorMovie(arrKubrick);
})
// Books
document.getElementById('king').addEventListener('click', (e)=>{
 e.preventDefault();
 clean();
 getBookMovie(arrKing);
})
document.getElementById('poe').addEventListener('click', (e)=>{
 e.preventDefault();
 clean();
 getBookMovie(arrPoe);
})
document.getElementById('love').addEventListener('click', (e)=>{
 e.preventDefault();
 clean();
 getBookMovie(arrLove);
})
document.getElementById('shell').addEventListener('click', (e)=>{
 e.preventDefault();
 clean();
 getBookMovie(arrShelley);
})
document.getElementById('oscars').addEventListener('click', (e)=>{
   e.preventDefault();
   card = '';
   getAnyMovie(arrOscars);
})
document.getElementById('series').addEventListener('click', (e)=>{
   e.preventDefault();
   card = '';
   getAnyMovie(arrSeries);
})

   

const getAnyMovie = (arr) =>{

	arr.forEach((element)=>{
		fetch(`https://www.omdbapi.com/?i=${element}&apikey=${keyOMBD}`).then((response)=>{
		     return response.json();
		 }).then((myJson)=>{
      showCard(myJson);
			printInfo.innerHTML = card;
		  showModal(myJson);
      printModal.innerHTML = modal;
		 });
	})
}
const getDirectorMovie = (arr) =>{
  arr.forEach((element)=>{
    fetch(`https://www.omdbapi.com/?i=${element}&apikey=${keyOMBD}`).then((response)=>{
         return response.json();
     }).then((myJson)=>{
      showCard(myJson);
      printDirector.innerHTML = card;
      showModal(myJson);
      printModal.innerHTML = modal;
     });
  })
}
const getBookMovie  = (arr) =>{
  arr.forEach((element)=>{
    fetch(`https://www.omdbapi.com/?i=${element}&apikey=${keyOMBD}`).then((response)=>{
         return response.json();
     }).then((myJson)=>{
      showCard(myJson);
      printBook.innerHTML = card;
      showModal(myJson);
      printModal.innerHTML = modal;
     });
  })
}
const getReleaseMovie = (arr)=>{
  arr.forEach((element)=>{
    fetch(`https://www.omdbapi.com/?i=${element}&apikey=${keyOMBD}`).then((response)=>{
      return response.json();
    }).then((myJson)=>{
      console.log(myJson);
      let titleUp = myJson.Title.toUpperCase()
      cardRelease += `<div class="card" style="width: 18rem;height: 170px;">
          <a data-target="#modal${myJson.imdbID}" data-toggle="modal" href="#"><img src="${myJson.Poster}" class="card-img-top" alt="${myJson.Title}"><div class="overlay"><h5>${titleUp}</h5><h6>(${myJson.Released})</h6></div></a>
        </div>`;
        printRelease.innerHTML = cardRelease;
        showModal(myJson);
        printModal.innerHTML = modal;


   })
 })
}
getReleaseMovie(arrReleases);

const showCard = (obj) => {
 card += `<a data-target="#modal${obj.imdbID}" data-toggle="modal"><div class="card" style="width: 18rem">
				 <img src="${obj.Poster}" class="card-img" alt="${obj.Title}"><div class="overlay"><h2>${obj.Title}</h2><p>IMBD Rating: ${obj.imdbRating}</p></div>
			   </div></a>
			  `;
}
const showModal = (obj) => {

  let title = obj.Title.toUpperCase();
  modal += `<div aria-hidden="true" aria-labelledby="exampleModalCenterTitle" class="modal fade" id="modal${obj.imdbID}" role="dialog" tabindex="-1">
                     <div class="modal-dialog modal-dialog-centered" role="document">
                         <div class="modal-content">
                             <div class="modal-header">
                                 <h4 class="modal-title" id="exampleModalLongTitle">
                                 ${title} (${obj.Year})
                                 </h4>
                               <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                                     <span aria-hidden="true">
                                         ×
                                     </span>
                                 </button>
                             </div>
                             <div class="modal-body">
                                 <div class="row">
                                    <div class="col-md-8">
                                      <img src ="${obj.Poster}">
                                    </div>
                                    <div class="col-md-4">
                                      <p><small>Director:</small> ${obj.Director}</p>
                                      <p><small>Genre:</small> ${obj.Genre}</p>
                                      <p><small>Released:</small> ${obj.Released}</p>
                                      <p><small>Actors:</small> ${obj.Actors}</p>
                                      <p><small>Runtime:</small> ${obj.Runtime}</p>
                                    </div>
                                 </div>
                                 <p><small>Synopsis:</small></p>
                                 <p>${obj.Plot}</p>
                                 <p><small>IMBD resource:</small></p>
                                 <a href="https://www.imdb.com/title/${obj.imdbID}/" target="_blank">https://www.imdb.com/title/${obj.imdbID}/</a>
                             </div>
                         </div>
                     </div>
                 </div>`

}

document.getElementById('hi').addEventListener('click', (e)=>{
   
   document.getElementById('about').innerHTML=
   "<p>People go to horror films because they want to be frightened or they wouldn't do it twice. You choose your entertainment because you want it to affect you."+
   "<br>That's certainly true of people who go to entertainment products like horror films that have big effects. They want those effects…[Horror films must] provide a just resolution in the end. The bad guy gets it. Even though they choose to watch these things, the images are still disturbing for many people. But people have the ability to pay attention as much or as little as they care to in order to control what effect it has on them, emotionally and otherwise."+
   "<br>We are the voice of the film and television industry, a community of storytellers at the nexus of innovation ,imagination, and creative</p>"
 
})

const clean = () =>{
 card = '';
 printDirector.innerHTML= '';
 printBook.innerHTML='';
 printInfo.innerHTML= '';
}